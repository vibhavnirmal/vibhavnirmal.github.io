<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Vibhav Nirmal, vibhav, nirmal, LDCE, MachineLearningBlog, TechieViN, robotics, computer vision, AI, machine learning">
    <link rel="icon" type="image/png" href="resources/images/logos/vin.png">
    
    <!-- Performance Optimizations -->
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="manifest" href="/manifest.json">
    
    <meta name="description" content="Computer Vision and Robotics enthusiast. Love talking about new research papers and finding new innovative usecases. Always ready to learn.">

    <meta property="og:image" content="resources/images/vin.jpg">
    <meta name="author" content="Vibhav Nirmal">
    <meta property="og:description" content="Computer Vision and Robotics enthusiast. Love talking about new research papers and finding new innovative usecases. Always ready to learn.">
    <meta property="og:title" content="Vibhav Nirmal | Portfolio">
    <meta property="og:url" content="https://vibhavnirmal.github.io/">
    <meta property="og:type" content="website">
    
    <!-- Preconnect to external domains for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>

    <title>Vibhav Nirmal | Computer Vision & Robotics Engineer</title>

    <!-- Critical CSS for faster loading -->
    <style>
        /* Critical Above-the-fold CSS */
        *{margin:0;padding:0;box-sizing:border-box}
        html{scroll-behavior:smooth;font-size:16px}
        body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;line-height:1.6;color:#333;background:#fff;min-height:100vh;overflow-x:hidden}
        .main-container{display:grid;grid-template-columns:320px 1fr 280px;max-width:1400px;margin:0 auto;min-height:100vh}
        .loading-spinner{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #007acc;border-radius:50%;animation:spin 1s linear infinite;margin:20px auto}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
        @media(max-width:768px){.main-container{grid-template-columns:1fr;grid-template-rows:auto 1fr}}
    </style>

    <!-- Load fonts optimally -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet"></noscript>
    
    <!-- FontAwesome for social icons - Load asynchronously -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" media="print" onload="this.media='all'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <!-- Load CSS files -->
    <link rel="stylesheet" href="resources/css/unified-portfolio.css">
    <link rel="stylesheet" href="resources/css/feed-components.css">

    <!-- Preload critical resources -->
    <link rel="preload" href="resources/data.json" as="fetch" crossorigin>
    <link rel="preload" href="social.html" as="fetch">

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Vibhav Nirmal",
        "jobTitle": "Computer Vision & Robotics Engineer",
        "description": "Computer Vision and Robotics enthusiast with expertise in AI, machine learning, and autonomous systems.",
        "url": "https://vibhavnirmal.github.io",
        "sameAs": [
            "https://linkedin.com/in/vibhav-nirmal",
            "https://github.com/vibhavnirmal",
            "https://medium.com/@vibhav.nirmal",
            "https://youtube.com/@TechieViN"
        ],
        "knowsAbout": [
            "Computer Vision",
            "Machine Learning",
            "Deep Learning",
            "Robotics",
            "Autonomous Systems",
            "ROS",
            "Python",
            "PyTorch",
            "SLAM",
            "Neural Networks"
        ],
        "alumniOf": {
            "@type": "EducationalOrganization",
            "name": "University of Texas at Arlington"
        },
        "hasOccupation": {
            "@type": "Occupation",
            "name": "Robotics Engineer",
            "occupationLocation": {
                "@type": "Place",
                "name": "United States"
            },
            "skills": ["Computer Vision", "Machine Learning", "Robotics", "AI"]
        }
    }
    </script>

    <!-- Scripts with optimized loading -->
    <script src="resources/js/social-feed.js" defer></script>
</head>

<body>
    <!-- Main Container -->
    <div class="main-container">
        
        <!-- Left Sidebar - Profile & Info -->
        <aside class="left-sidebar" id="left-sidebar">
            <div class="profile-section">
                <!-- Profile Info -->
                <div class="profile-info">
                    <h1 class="profile-name">Vibhav Nirmal</h1>
                    <p class="profile-title">Computer Vision & Robotics Engineer</p>
                </div>

                <!-- About Content -->
                <div id="about-content" class="about-content">
                    <!-- Content will be loaded here -->
                </div>
            </div>
            <div class="contact-section">
                <h3 class="section-title">Get In Touch</h3>
                <div class="contact-links">
                    <div id="social-links">
                        <!-- Additional social links will be loaded here -->
                    </div>
                </div>
            </div>
        </aside>

        <!-- Center Content - Projects Feed -->
        <main class="center-content">
            <div class="feed-container">
                <!-- Feed Header -->
                <header class="feed-header">
                    <p class="feed-subtitle">My journey in AI, Computer Vision & Robotics</p>
                </header>

                <div class="stats-section">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="projects-count">0</div>
                        <div class="stat-label">Projects</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="technologies-count">0</div>
                        <div class="stat-label">Technologies</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="years-experience">3+</div>
                        <div class="stat-label">Years Experience</div>
                    </div>
                </div>
            </div>


                <!-- Search Bar -->
                <div class="filter-search">
                    <input type="text" 
                           class="filter-search-input" 
                           placeholder="Search projects..." 
                           id="project-search-input">
                    <span class="filter-search-icon">üîç</span>
                    <button class="filter-clear" id="filter-clear-btn">√ó</button>
                </div>

                <!-- Feed Posts -->
                <div id="feed-posts" role="feed" aria-label="Projects feed" aria-live="polite">
                    <!-- Posts will be dynamically loaded here -->
                </div>
            </div>
        </main>

        <!-- Right Sidebar - Additional Info & Stats -->
        <aside class="right-sidebar" id="right-sidebar">
            
            <!-- Filter Bar -->
            <div class="feed-filters" id="feed-filters" role="group" aria-label="Project filters">
                <!-- Filter chips will be dynamically generated -->
            </div>

            
        </aside>

        <!-- Mobile Menu Toggle -->
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle mobile menu">
            <i class="fas fa-bars" id="menu-icon"></i>
        </button>

        <!-- Combined Mobile Sidebar -->
        <aside class="mobile-sidebar" id="mobile-sidebar">
            <div class="profile-section">
                <!-- Profile Info -->
                <div class="profile-image-container">
                    <svg id="vinsvg-mobile" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="50" cy="50" r="48" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                        <text x="50" y="58" text-anchor="middle" font-family="Inter, sans-serif" font-size="24" font-weight="700" fill="#333">VN</text>
                    </svg>
                </div>
                <div class="profile-info">
                    <h1 class="profile-name">Vibhav Nirmal</h1>
                    <p class="profile-title">Computer Vision & Robotics Engineer</p>
                </div>

                <!-- About Content -->
                <div class="about-content">
                    <p class="about-paragraph">Robotics & AI Engineer with expertise in computer vision, autonomous systems, and neural networks.</p>
                    <p class="about-paragraph">Experience with PyTorch, SLAM, sensor fusion, and embedded systems (Nvidia Jetson, Raspberry Pi).</p>
                    <p class="about-paragraph">Former President of UTA AutonoBots. Passionate about building intelligent machines.</p>
                </div>
            </div>

            <!-- Stats Section -->
            <div class="stats-section">
                <h3 class="section-title">Portfolio Stats</h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="mobile-projects-count">0</div>
                        <div class="stat-label">Projects</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="mobile-technologies-count">0</div>
                        <div class="stat-label">Technologies</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">3+</div>
                        <div class="stat-label">Years Experience</div>
                    </div>
                </div>
            </div>

            <!-- Skills Section -->
            <div class="skills-section">
                <h3 class="section-title">Core Skills</h3>
                <div class="skills-list">
                    <div class="skill-item">
                        <i class="skill-icon fab fa-python"></i>
                        <span class="skill-name">Python/PyTorch</span>
                    </div>
                    <div class="skill-item">
                        <i class="skill-icon fas fa-robot"></i>
                        <span class="skill-name">ROS/Robotics</span>
                    </div>
                    <div class="skill-item">
                        <i class="skill-icon fas fa-eye"></i>
                        <span class="skill-name">Computer Vision</span>
                    </div>
                    <div class="skill-item">
                        <i class="skill-icon fas fa-microchip"></i>
                        <span class="skill-name">Embedded Systems</span>
                    </div>
                    <div class="skill-item">
                        <i class="skill-icon fas fa-brain"></i>
                        <span class="skill-name">Deep Learning</span>
                    </div>
                </div>
            </div>

            <!-- Contact Section -->
            <div class="contact-section">
                <h3 class="section-title">Get In Touch</h3>
                <div class="contact-links">
                    <div id="mobile-social-links">
                        <!-- Social links will be loaded here -->
                    </div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // Enhanced initialization for unified portfolio
        (function () {
            'use strict';
            
            // DOM Content Loaded handler with performance optimizations
            document.addEventListener('DOMContentLoaded', function () {
                // Register service worker for offline support
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('/sw.js')
                        .then(registration => {
                            console.log('SW registered:', registration);
                        })
                        .catch(error => {
                            console.log('SW registration failed:', error);
                        });
                }

                // Initialize components efficiently
                const initPromises = [
                    initializeAboutContent(),
                    initializeSocialLinks(),
                    initializeStats(),
                    initializeMobileMenu()
                ];

                // Wait for critical components to load
                Promise.allSettled(initPromises).then(() => {
                    console.log('Portfolio initialized');
                    
                    // Optional: Add performance metrics
                    if ('performance' in window && 'measure' in performance) {
                        performance.mark('portfolio-loaded');
                    }
                });
            });

            // Initialize about content from JSON
            function initializeAboutContent() {
                // Use concise, direct content instead of loading from JSON
                const contentDiv = document.getElementById('about-content');
                if (contentDiv) {
                    contentDiv.innerHTML = `
                        <p class="about-paragraph">Robotics & AI Engineer with expertise in computer vision, autonomous systems, and neural networks.</p>
                        <p class="about-paragraph">Experience with PyTorch, SLAM, sensor fusion, and embedded systems (Nvidia Jetson, Raspberry Pi).</p>
                        <p class="about-paragraph">Former President of UTA AutonoBots. Passionate about building intelligent machines.</p>
                    `;
                }
            }

            // Initialize social links with caching and better error handling
            function initializeSocialLinks() {
                // Check if already cached
                if (window.socialLinksCache) {
                    populateSocialLinks(window.socialLinksCache);
                    return;
                }

                fetch('social.html')
                    .then(response => {
                        if (!response.ok) throw new Error(`HTTP ${response.status}`);
                        return response.text();
                    })
                    .then(html => {
                        window.socialLinksCache = html; // Cache for future use
                        populateSocialLinks(html);
                    })
                    .catch(error => {
                        console.error('Error loading social links:', error);
                        loadFallbackSocialLinks();
                    });
            }

            // Populate social links containers
            function populateSocialLinks(html) {
                const socialContainer = document.getElementById('social-links');
                const mobileSocialContainer = document.getElementById('mobile-social-links');
                
                if (socialContainer) socialContainer.innerHTML = html;
                if (mobileSocialContainer) mobileSocialContainer.innerHTML = html;
            }

            // Fallback social links with improved structure
            function loadFallbackSocialLinks() {
                const fallbackHTML = `
                    <div class="social-links-grid">
                        <a href="https://linkedin.com/in/vibhav-nirmal" class="social-link linkedin" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile">
                            <i class="fab fa-linkedin" aria-hidden="true"></i>
                            <span class="social-label">LinkedIn</span>
                        </a>
                        <a href="https://github.com/vibhavnirmal" class="social-link github" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile">
                            <i class="fab fa-github" aria-hidden="true"></i>
                            <span class="social-label">GitHub</span>
                        </a>
                        <a href="https://medium.com/@vibhav.nirmal" class="social-link medium" target="_blank" rel="noopener noreferrer" aria-label="Medium Blog">
                            <i class="fab fa-medium" aria-hidden="true"></i>
                            <span class="social-label">Medium</span>
                        </a>
                        <a href="https://youtube.com/@TechieViN" class="social-link youtube" target="_blank" rel="noopener noreferrer" aria-label="YouTube Channel">
                            <i class="fab fa-youtube" aria-hidden="true"></i>
                            <span class="social-label">YouTube</span>
                        </a>
                    </div>
                `;
                
                populateSocialLinks(fallbackHTML);
            }

            // Initialize stats and dynamic content
            function initializeStats() {
                // Use requestAnimationFrame for better performance
                requestAnimationFrame(() => {
                    updateStats();
                });
            }

            // Update statistics with better error handling
            function updateStats() {
                // Use cached data if available
                if (window.projectsCache) {
                    updateStatsFromData(window.projectsCache);
                    return;
                }

                fetch('resources/data.json')
                    .then(response => {
                        if (!response.ok) throw new Error(`HTTP ${response.status}`);
                        return response.json();
                    })
                    .then(data => {
                        window.projectsCache = data; // Cache for future use
                        updateStatsFromData(data);
                    })
                    .catch(error => {
                        console.error('Error loading stats:', error);
                        // Fallback values
                        updateStatsWithFallback();
                    });
            }

            // Extract stats update logic
            function updateStatsFromData(data) {
                const projects = data.projects || [];
                
                // Update project count
                const projectsCount = document.getElementById('projects-count');
                const mobileProjectsCount = document.getElementById('mobile-projects-count');
                if (projectsCount) animateNumber(projectsCount, projects.length);
                if (mobileProjectsCount) animateNumber(mobileProjectsCount, projects.length);

                // Count unique technologies efficiently
                const allTags = new Set();
                projects.forEach(project => {
                    if (project.tags) {
                        project.tags.forEach(tag => allTags.add(tag));
                    }
                });
                
                const techCount = document.getElementById('technologies-count');
                const mobileTechCount = document.getElementById('mobile-technologies-count');
                if (techCount) animateNumber(techCount, allTags.size);
                if (mobileTechCount) animateNumber(mobileTechCount, allTags.size);

                // Update skills list
                updateSkillsList(Array.from(allTags));
            }

            // Fallback stats update
            function updateStatsWithFallback() {
                const projectsCount = document.getElementById('projects-count');
                const mobileProjectsCount = document.getElementById('mobile-projects-count');
                const techCount = document.getElementById('technologies-count');
                const mobileTechCount = document.getElementById('mobile-technologies-count');
                
                if (projectsCount) projectsCount.textContent = '25+';
                if (mobileProjectsCount) mobileProjectsCount.textContent = '25+';
                if (techCount) techCount.textContent = '15+';
                if (mobileTechCount) mobileTechCount.textContent = '15+';
            }

            // Optimized number animation with requestAnimationFrame
            function animateNumber(element, target) {
                const startTime = performance.now();
                const duration = 1000; // 1 second
                let startValue = 0;
                
                function updateNumber(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // Easing function for smooth animation
                    const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                    const current = Math.floor(startValue + (target - startValue) * easeOutQuart);
                    
                    element.textContent = current;
                    
                    if (progress < 1) {
                        requestAnimationFrame(updateNumber);
                    } else {
                        element.textContent = target; // Ensure final value is exact
                    }
                }
                
                requestAnimationFrame(updateNumber);
            }

            // Update skills list
            function updateSkillsList(tags) {
                const skillsContainer = document.getElementById('skills-list');
                if (!skillsContainer) return;

                const skillMap = {
                    'computervision': { name: 'Computer Vision'},
                    'machinelearning': { name: 'Machine Learning'},
                    'deeplearning': { name: 'Deep Learning'},
                    'python': { name: 'Python'},
                    'javascript': { name: 'JavaScript'},
                    'cpp': { name: 'C++'}
                };

                const topSkills = tags.filter(tag => skillMap[tag]).slice(0, 6);
                
                skillsContainer.innerHTML = topSkills.map(tag => {
                    const skill = skillMap[tag];
                    return `
                        <div class="skill-item">
                            <span class="skill-name">${skill.name}</span>
                        </div>
                    `;
                }).join('');
            }

            // Initialize mobile menu with optimized event handling
            function initializeMobileMenu() {
                const mobileToggle = document.getElementById('mobile-menu-toggle');
                const mobileSidebar = document.getElementById('mobile-sidebar');
                const menuIcon = document.getElementById('menu-icon');
                const body = document.body;
                
                if (!mobileToggle || !mobileSidebar || !menuIcon) return;

                // Debounced click handler for better performance
                let clickTimeout;
                mobileToggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    clearTimeout(clickTimeout);
                    clickTimeout = setTimeout(() => {
                        toggleMobileMenu();
                    }, 50);
                });
                
                // Optimized outside click handler with passive listeners
                document.addEventListener('click', function(e) {
                    if (body.classList.contains('mobile-menu-open') && 
                        !mobileSidebar.contains(e.target) && 
                        !mobileToggle.contains(e.target)) {
                        closeMobileMenu();
                    }
                }, { passive: true });
                
                // Optimized escape key handler
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && body.classList.contains('mobile-menu-open')) {
                        closeMobileMenu();
                        mobileToggle.focus(); // Return focus for accessibility
                    }
                }, { passive: true });
                
                // Initialize aria attributes
                mobileToggle.setAttribute('aria-expanded', 'false');
                mobileToggle.setAttribute('aria-label', 'Open mobile menu');

                // Toggle function
                function toggleMobileMenu() {
                    const isOpen = body.classList.contains('mobile-menu-open');
                    if (isOpen) {
                        closeMobileMenu();
                    } else {
                        openMobileMenu();
                    }
                }

                // Open menu function
                function openMobileMenu() {
                    body.classList.add('mobile-menu-open');
                    mobileSidebar.classList.add('open');
                    mobileToggle.classList.add('active');
                    menuIcon.className = 'fas fa-times';
                    mobileToggle.setAttribute('aria-expanded', 'true');
                    mobileToggle.setAttribute('aria-label', 'Close mobile menu');
                    
                    // Trap focus in mobile menu for accessibility
                    trapFocus(mobileSidebar);
                }

                // Close menu function
                function closeMobileMenu() {
                    body.classList.remove('mobile-menu-open');
                    mobileSidebar.classList.remove('open');
                    mobileToggle.classList.remove('active');
                    menuIcon.className = 'fas fa-bars';
                    mobileToggle.setAttribute('aria-expanded', 'false');
                    mobileToggle.setAttribute('aria-label', 'Open mobile menu');
                    
                    // Remove focus trap
                    removeFocusTrap();
                }

                // Focus trap for accessibility
                function trapFocus(element) {
                    const focusableElements = element.querySelectorAll(
                        'a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'
                    );
                    const firstElement = focusableElements[0];
                    const lastElement = focusableElements[focusableElements.length - 1];

                    element.addEventListener('keydown', function(e) {
                        if (e.key === 'Tab') {
                            if (e.shiftKey) {
                                if (document.activeElement === firstElement) {
                                    lastElement.focus();
                                    e.preventDefault();
                                }
                            } else {
                                if (document.activeElement === lastElement) {
                                    firstElement.focus();
                                    e.preventDefault();
                                }
                            }
                        }
                    });
                }

                function removeFocusTrap() {
                    // Focus trap will be removed when menu closes
                }
            }

        })();
    </script>

</body>
</html>